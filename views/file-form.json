[
    {
        "xtype": "hidden",
        "name": "typeId",
        "value": "@typeId"
    },
    {
        "xtype": "hidden",
        "name": "type",
        "value": "@type"
    },
    {
        "xtype": "tabpanel",
        "activeTab": 0,
        "ui": "flat-light",
        "anchor": "100% 100%",
        "autoRender": true,
        "items": [
            {
                "title": "#Common",
                "iconCls": "g-icon-svg g-icon-svg_size_16 g-icon-m_color_tab gm-references-fprofiles__icon-common",
                "bodyPadding": "10",
                "autoScroll": true,
                "layout": "anchor",
                "defaults": {
                    "labelWidth": 100,
                    "labelAlign": "right"
                },
                "items": [
                    {
                        "xtype": "textfield",
                        "name": "name",
                        "fieldLabel": "#Name",
                        "maxLength": 255,
                        "anchor": "100%",
                        "allowBlank": false
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Enabled",
                        "checked": true,
                        "name": "enabled",
                        "inputValue": 1
                    }
                ]
            },
            {
                "title": "#Permissions",
                "iconCls": "g-icon-svg g-icon-svg_size_16 g-icon-m_color_tab gm-references-fprofiles__icon-perms",
                "bodyPadding": "10",
                "autoScroll": true,
                "layout": "anchor",
                "defaults": {
                    "labelWidth": 260,
                    "labelAlign": "right"
                },
                "items": [
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Upload files",
                        "checked": false,
                        "name": "options[canUpload]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Download files",
                        "checked": false,
                        "name": "options[canDownload]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Delete files / folders",
                        "checked": false,
                        "name": "options[canDelete]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Create files",
                        "checked": false,
                        "name": "options[canCreateFile]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Create folders",
                        "checked": false,
                        "name": "options[canCreateFolder]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Compress files / folders",
                        "checked": false,
                        "name": "options[canCompress]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Uncompress files",
                        "checked": false,
                        "name": "options[canExtract]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Rename files / folders",
                        "checked": false,
                        "name": "options[canRename]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Edit files",
                        "checked": false,
                        "name": "options[canEditFile]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#View files",
                        "checked": false,
                        "name": "options[canViewFile]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Edit permissions",
                        "checked": false,
                        "name": "options[canEditPerms]",
                        "inputValue": 1
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#View attrbiutes files / folders",
                        "checked": false,
                        "name": "options[canViewAttr]",
                        "inputValue": 1
                    }
                ]
            },
            {
                "title": "#View",
                "tooltip": "#Folder and file display options",
                "iconCls": "g-icon-svg g-icon-svg_size_16 g-icon-m_color_tab gm-references-fprofiles__icon-view",
                "bodyPadding": "10",
                "autoScroll": true,
                "layout": "anchor",
                "defaults": {
                    "labelWidth": 270,
                    "labelAlign": "right"
                },
                "items": [
                    {
                        "xtype": "label",
                        "ui": "note",
                        "style": "margin: -10px -10px 10px -10px",
                        "html": "#Folder and file display options"
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Show folders",
                        "name": "options[showDirs]",
                        "inputValue": 1,
                        "checked": false
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Show files in subfolders",
                        "name": "options[showFilesInDirs]",
                        "inputValue": 1,
                        "checked": false
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Show folders without access",
                        "name": "options[showUnreadableDirs]",
                        "inputValue": 1,
                        "checked": false
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Show VCS files",
                        "name": "options[showVCSFiles]",
                        "inputValue": 1,
                        "checked": false
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Show files and folders with a dot",
                        "name": "options[showDotFiles]",
                        "inputValue": 1,
                        "checked": false
                    },
                    {
                        "xtype": "checkbox",
                        "ui": "switch",
                        "fieldLabel": "#Show files corresponding to a folder",
                        "name": "options[showExtFiles]",
                        "inputValue": 1,
                        "checked": true
                    }
                ]
            },
            {
                "title": "#Upload",
                "iconCls": "g-icon-svg g-icon-svg_size_16 g-icon-m_color_tab gm-references-fprofiles__icon-upload",
                "bodyPadding": "10",
                "autoScroll": true,
                "layout": "anchor",
                "defaults": {
                    "labelWidth": 200,
                    "labelAlign": "right"
                },
                "items": [
                    {
                        "xtype": "label",
                        "ui": "note",
                        "style": "margin: -10px -10px 10px -10px",
                        "html": [
                            "#In the file upload parameters, you specify the rules by which a new file name will be generated in the media folder", 
                            "#After downloading, not only the name of the downloaded file may change, but also the name of the folder"
                        ]
                    },
                    {
                        "xtype": "fieldset",
                        "title": "#File upload rules",
                        "defaults": {
                            "labelWidth": 250,
                            "labelAlign": "right"
                        },
                        "items": [
                            {
                                "xtype": "checkbox",
                                "ui": "switch",
                                "fieldLabel": "#Check file extension",
                                "checked": true,
                                "name": "options[checkFileExtension]",
                                "inputValue": 1
                            },
                            {
                                "xtype": "checkbox",
                                "ui": "switch",
                                "fieldLabel": "#Check MIME type of file contents",
                                "checked": true,
                                "name": "options[checkMimeType]",
                                "inputValue": 1
                            },
                            {
                                "xtype": "tagfield",
                                "fieldLabel": "#Checked file extensions",
                                "name": "options[allowedExtensions]",
                                "anchor": "100%",
                                "store": {
                                    "fields": ["mime", "name"],
                                    "data": "@mimes"
                                },
                                "encodeSubmitValue": true,
                                "displayField": "name",
                                "valueField": "mime",
                                "createNewOnEnter": false,
                                "createNewOnBlur": false,
                                "filterPickList": true,
                                "queryMode": "local"
                            }
                        ]
                    },
                    {
                        "xtype": "fieldset",
                        "title": "#New file name after downloading it",
                        "defaults": {
                            "labelWidth": 250,
                            "labelAlign": "right"
                        },
                        "items": [
                            {
                                "xtype": "checkbox",
                                "ui": "switch",
                                "fieldLabel": "#File name transliteration",
                                "checked": false,
                                "name": "options[transliterateFilename]",
                                "inputValue": 1
                            },
                            {
                                "xtype": "checkbox",
                                "ui": "switch",
                                "fieldLabel": "#Creating a unique file name",
                                "checked": false,
                                "name": "options[uniqueFilename]",
                                "inputValue": 1
                            },
                            {
                                "xtype": "checkbox",
                                "ui": "switch",
                                "fieldLabel": "#Exclude special characters",
                                "checked": false,
                                "name": "options[escapeFilename]",
                                "inputValue": 1
                            },
                            {
                                "xtype": "checkbox",
                                "ui": "switch",
                                "fieldLabel": "#Lowercase file name",
                                "name": "options[lowercaseFilename]",
                                "checked": false,
                                "inputValue": 1
                            },
                            {
                                "xtype": "textfield",
                                "fieldLabel": "#Replace special characters with",
                                "name": "options[replaceFilenameChars]",
                                "value": "-",
                                "width": 350,
                                "maxLength": 1,
                                "minLength": 1,
                                "allowBlank": false
                            },
                            {
                                "xtype": "numberfield",
                                "fieldLabel": "#Maximum file name length",
                                "name": "options[maxFilenameLength]",
                                "minValue": 1,
                                "maxValue": 255,
                                "value": 255,
                                "width": 350,
                                "allowBlank": false
                            }
                        ]
                    },
                    {
                        "xtype": "fieldset",
                        "title": "#Template for creating a folder of downloaded files",
                        "items": [
                            {
                                "xtype": "textfield",
                                "name": "options[pathTemplate]",
                                "fieldLabel": "#Template",
                                "labelWidth": 70,
                                "labelAlign": "right",
                                "anchor": "100%",
                                "value": "{year}/{month}/{day}/{ID}",
                                "allowBlank": true
                            },
                            {
                                "xtype": "label",
                                "cls": "gm-references-fprofiles__info-tpl",
                                "html": [
                                    "#Symbol in template",
                                    "#{Year} - year number, 2 digits",
                                    "#{year} - full numeric representation of the year, at least 4 digits",
                                    "#{Month} - serial number of the month without a leading zero",
                                    "#{month} - serial number of the month with a leading zero",
                                    "#{Day} - day of the month without a leading zero",
                                    "#{day} - day of the month, 2 digits with leading zero",
                                    "#{ID} - identifier of the object to which the file belongs"
                                ]
                            },
                            {
                                "xtype": "checkbox",
                                "ui": "switch",
                                "fieldLabel": "#Create a folder and move files there",
                                "labelWidth": 250,
                                "labelAlign": "right",
                                "checked": false,
                                "name": "options[createPath]",
                                "inputValue": 1
                            }
                        ]
                    }
                ]
            }
        ]
    }
]